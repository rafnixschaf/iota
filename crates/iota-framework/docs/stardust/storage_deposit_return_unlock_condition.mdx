---
title: Module `0x107a::storage_deposit_return_unlock_condition`
---
import Link from '@docusaurus/Link';

<Link id="0x107a_storage_deposit_return_unlock_condition"/>


-  [Struct `StorageDepositReturnUnlockCondition`](#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition)
-  [Function `unlock`](#0x107a_storage_deposit_return_unlock_condition_unlock)
-  [Function `return_address`](#0x107a_storage_deposit_return_unlock_condition_return_address)
-  [Function `return_amount`](#0x107a_storage_deposit_return_unlock_condition_return_amount)


<pre><code>
<b>use</b> <Link to="../iota-framework/balance#0x2_balance">0x2::balance</Link>;
<b>use</b> <Link to="../iota-framework/coin#0x2_coin">0x2::coin</Link>;
<b>use</b> <Link to="../iota-framework/transfer#0x2_transfer">0x2::transfer</Link>;
<b>use</b> <Link to="../iota-framework/tx_context#0x2_tx_context">0x2::tx_context</Link>;
</code></pre>



<Link id="0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition"></Link>

## Struct `StorageDepositReturnUnlockCondition`

The Stardust storage deposit return unlock condition.


<pre><code>
<b>struct</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">StorageDepositReturnUnlockCondition</Link> <b>has</b> store
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
return_address: <b>address</b></code>
</dt>
<dd>
 The address to which the consuming transaction should deposit the amount defined in Return Amount.
</dd>
<dt>
<code>
return_amount: u64</code>
</dt>
<dd>
 The amount of coins the consuming transaction should deposit to the address defined in Return Address.
</dd>
</dl>


</details>

<Link id="0x107a_storage_deposit_return_unlock_condition_unlock"></Link>

## Function `unlock`

Check the unlock condition.


<pre><code>
<b>public</b> <b>fun</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_unlock">unlock</Link>&lt;T&gt;(condition: <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">storage_deposit_return_unlock_condition::StorageDepositReturnUnlockCondition</Link>, funding: &<b>mut</b> <Link to="../iota-framework/balance#0x2_balance_Balance">balance::Balance</Link>&lt;T&gt;, ctx: &<b>mut</b> <Link to="../iota-framework/tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_unlock">unlock</Link>&lt;T&gt;(condition: <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">StorageDepositReturnUnlockCondition</Link>, funding: &<b>mut</b> Balance&lt;T&gt;, ctx: &<b>mut</b> TxContext) \{
    // Aborts <b>if</b> `funding` is not enough.
    <b>let</b> return_balance = funding.split(condition.<Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_return_amount">return_amount</Link>());

    // Recipient will need <b>to</b> <Link to="../iota-framework/transfer#0x2_transfer">transfer</Link> the <Link to="../iota-framework/coin#0x2_coin">coin</Link> <b>to</b> a normal ed25519 <b>address</b> instead of legacy.
    public_transfer(from_balance(return_balance, ctx), condition.<Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_return_address">return_address</Link>());

    <b>let</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">StorageDepositReturnUnlockCondition</Link> \{
        return_address: _,
        return_amount: _,
    } = condition;
}
</code></pre>



</details>

<Link id="0x107a_storage_deposit_return_unlock_condition_return_address"></Link>

## Function `return_address`

Get the unlock condition's <code>
return_address</code>.


<pre><code>
<b>public</b> <b>fun</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_return_address">return_address</Link>(condition: &<Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">storage_deposit_return_unlock_condition::StorageDepositReturnUnlockCondition</Link>): <b>address</b>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_return_address">return_address</Link>(condition: &<Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">StorageDepositReturnUnlockCondition</Link>): <b>address</b> \{
    condition.return_address
}
</code></pre>



</details>

<Link id="0x107a_storage_deposit_return_unlock_condition_return_amount"></Link>

## Function `return_amount`

Get the unlock condition's <code>
return_amount</code>.


<pre><code>
<b>public</b> <b>fun</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_return_amount">return_amount</Link>(condition: &<Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">storage_deposit_return_unlock_condition::StorageDepositReturnUnlockCondition</Link>): u64
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_return_amount">return_amount</Link>(condition: &<Link to="storage_deposit_return_unlock_condition#0x107a_storage_deposit_return_unlock_condition_StorageDepositReturnUnlockCondition">StorageDepositReturnUnlockCondition</Link>): u64 \{
    condition.return_amount
}
</code></pre>



</details>
