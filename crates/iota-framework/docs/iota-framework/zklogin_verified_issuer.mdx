---
title: Module `0x2::zklogin_verified_issuer`
---
import Link from '@docusaurus/Link';

<Link id="0x2_zklogin_verified_issuer"/>


-  [Resource `VerifiedIssuer`](#0x2_zklogin_verified_issuer_VerifiedIssuer)
-  [Constants](#@Constants_0)
-  [Function `owner`](#0x2_zklogin_verified_issuer_owner)
-  [Function `issuer`](#0x2_zklogin_verified_issuer_issuer)
-  [Function `delete`](#0x2_zklogin_verified_issuer_delete)
-  [Function `verify_zklogin_issuer`](#0x2_zklogin_verified_issuer_verify_zklogin_issuer)
-  [Function `check_zklogin_issuer`](#0x2_zklogin_verified_issuer_check_zklogin_issuer)
-  [Function `check_zklogin_issuer_internal`](#0x2_zklogin_verified_issuer_check_zklogin_issuer_internal)


<pre><code>
<b>use</b> <Link to="../move-stdlib/string#0x1_string">0x1::string</Link>;
<b>use</b> <Link to="object#0x2_object">0x2::object</Link>;
<b>use</b> <Link to="transfer#0x2_transfer">0x2::transfer</Link>;
<b>use</b> <Link to="tx_context#0x2_tx_context">0x2::tx_context</Link>;
</code></pre>



<Link id="0x2_zklogin_verified_issuer_VerifiedIssuer"></Link>

## Resource `VerifiedIssuer`

Posession of a VerifiedIssuer proves that the user's address was created using zklogin and with the given issuer
(identity provider).


<pre><code>
<b>struct</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">VerifiedIssuer</Link> <b>has</b> key
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
id: <Link to="object#0x2_object_UID">object::UID</Link></code>
</dt>
<dd>
 The ID of this VerifiedIssuer
</dd>
<dt>
<code>
owner: <b>address</b></code>
</dt>
<dd>
 The address this VerifiedID is associated with
</dd>
<dt>
<code>
issuer: <Link to="../move-stdlib/string#0x1_string_String">string::String</Link></code>
</dt>
<dd>
 The issuer
</dd>
</dl>


</details>

<Link id="@Constants_0"></Link>

## Constants


<Link id="0x2_zklogin_verified_issuer_EInvalidInput"></Link>

Error if the proof consisting of the inputs provided to the verification function is invalid.


<pre><code>
<b>const</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_EInvalidInput">EInvalidInput</Link>: u64 = 0;
</code></pre>



<Link id="0x2_zklogin_verified_issuer_EInvalidProof"></Link>

Error if the proof consisting of the inputs provided to the verification function is invalid.


<pre><code>
<b>const</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_EInvalidProof">EInvalidProof</Link>: u64 = 1;
</code></pre>



<Link id="0x2_zklogin_verified_issuer_owner"></Link>

## Function `owner`

Returns the address associated with the given VerifiedIssuer


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_owner">owner</Link>(verified_issuer: &<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">zklogin_verified_issuer::VerifiedIssuer</Link>): <b>address</b>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_owner">owner</Link>(verified_issuer: &<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">VerifiedIssuer</Link>): <b>address</b> \{
    verified_issuer.owner
}
</code></pre>



</details>

<Link id="0x2_zklogin_verified_issuer_issuer"></Link>

## Function `issuer`

Returns the issuer associated with the given VerifiedIssuer


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_issuer">issuer</Link>(verified_issuer: &<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">zklogin_verified_issuer::VerifiedIssuer</Link>): &<Link to="../move-stdlib/string#0x1_string_String">string::String</Link>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_issuer">issuer</Link>(verified_issuer: &<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">VerifiedIssuer</Link>): &String \{
    &verified_issuer.issuer
}
</code></pre>



</details>

<Link id="0x2_zklogin_verified_issuer_delete"></Link>

## Function `delete`

Delete a VerifiedIssuer


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_delete">delete</Link>(verified_issuer: <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">zklogin_verified_issuer::VerifiedIssuer</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_delete">delete</Link>(verified_issuer: <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">VerifiedIssuer</Link>) \{
    <b>let</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">VerifiedIssuer</Link> \{ id, owner: _, issuer: _ } = verified_issuer;
    id.<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_delete">delete</Link>();
}
</code></pre>



</details>

<Link id="0x2_zklogin_verified_issuer_verify_zklogin_issuer"></Link>

## Function `verify_zklogin_issuer`

Verify that the caller's address was created using zklogin with the given issuer. If so, a VerifiedIssuer object
with the issuers id transfered to the caller.

Aborts with <code>
<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_EInvalidProof">EInvalidProof</Link></code> if the verification fails.


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_verify_zklogin_issuer">verify_zklogin_issuer</Link>(address_seed: u256, issuer: <Link to="../move-stdlib/string#0x1_string_String">string::String</Link>, ctx: &<b>mut</b> <Link to="tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_verify_zklogin_issuer">verify_zklogin_issuer</Link>(
    address_seed: u256,
    issuer: String,
    ctx: &<b>mut</b> TxContext,
) \{
    <b>let</b> sender = ctx.sender();
    <b>assert</b>!(<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_check_zklogin_issuer">check_zklogin_issuer</Link>(sender, address_seed, &issuer), <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_EInvalidProof">EInvalidProof</Link>);
    <Link to="transfer#0x2_transfer_transfer">transfer::transfer</Link>(
        <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_VerifiedIssuer">VerifiedIssuer</Link> \{
            id: <Link to="object#0x2_object_new">object::new</Link>(ctx),
            owner: sender,
            issuer
        },
        sender
    )
}
</code></pre>



</details>

<Link id="0x2_zklogin_verified_issuer_check_zklogin_issuer"></Link>

## Function `check_zklogin_issuer`

Returns true if <code>
<b>address</b></code> was created using zklogin with the given issuer and address seed.


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_check_zklogin_issuer">check_zklogin_issuer</Link>(<b>address</b>: <b>address</b>, address_seed: u256, issuer: &<Link to="../move-stdlib/string#0x1_string_String">string::String</Link>): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_check_zklogin_issuer">check_zklogin_issuer</Link>(
    <b>address</b>: <b>address</b>,
    address_seed: u256,
    issuer: &String,
): bool \{
    <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_check_zklogin_issuer_internal">check_zklogin_issuer_internal</Link>(<b>address</b>, address_seed, issuer.bytes())
}
</code></pre>



</details>

<Link id="0x2_zklogin_verified_issuer_check_zklogin_issuer_internal"></Link>

## Function `check_zklogin_issuer_internal`

Returns true if <code>
<b>address</b></code> was created using zklogin with the given issuer and address seed.

Aborts with <code>
<Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_EInvalidInput">EInvalidInput</Link></code> if the <code>
iss</code> input is not a valid UTF-8 string.


<pre><code>
<b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_check_zklogin_issuer_internal">check_zklogin_issuer_internal</Link>(<b>address</b>: <b>address</b>, address_seed: u256, issuer: &<Link to="../move-stdlib/vector#0x1_vector">vector</Link>&lt;u8&gt;): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>native</b> <b>fun</b> <Link to="zklogin_verified_issuer#0x2_zklogin_verified_issuer_check_zklogin_issuer_internal">check_zklogin_issuer_internal</Link>(
    <b>address</b>: <b>address</b>,
    address_seed: u256,
    issuer: &<Link to="../move-stdlib/vector#0x1_vector">vector</Link>&lt;u8&gt;,
): bool;
</code></pre>



</details>
