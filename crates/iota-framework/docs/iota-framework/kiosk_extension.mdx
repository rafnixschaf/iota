---
title: Module `0x2::kiosk_extension`
---
import Link from '@docusaurus/Link';

<Link id="0x2_kiosk_extension"/>
This module implements the Kiosk Extensions functionality. It allows
exposing previously protected (only-owner) methods to third-party apps.

A Kiosk Extension is a module that implements any functionality on top of
the <code>
Kiosk</code> without discarding nor blocking the base. Given that <code>
Kiosk</code>
itself is a trading primitive, most of the extensions are expected to be
related to trading. However, there's no limit to what can be built using the
<code>
<Link to="kiosk_extension#0x2_kiosk_extension">kiosk_extension</Link></code> module, as it gives certain benefits such as using <code>
Kiosk</code>
as the storage for any type of data / assets.


<Link id="@Flow:_0"></Link>

#### Flow:

- An extension can only be installed by the Kiosk Owner and requires an
authorization via the <code>
KioskOwnerCap</code>.
- When installed, the extension is given a permission bitmap that allows it
to perform certain protected actions (eg <code>
place</code>, <code>
lock</code>). However, it is
possible to install an extension that does not have any permissions.
- Kiosk Owner can <code>
disable</code> the extension at any time, which prevents it
from performing any protected actions. The storage is still available to the
extension until it is completely removed.
- A disabled extension can be <code>
enable</code>d at any time giving the permissions
back to the extension.
- An extension permissions follow the all-or-nothing policy. Either all of
the requested permissions are granted or none of them (can't install).


<Link id="@Examples:_1"></Link>

#### Examples:

- An Auction extension can utilize the storage to store Auction-related data
while utilizing the same <code>
Kiosk</code> object that the items are stored in.
- A Marketplace extension that implements custom events and fees for the
default trading functionality.


<Link id="@Notes:_2"></Link>

#### Notes:

- Trading functionality can utilize the <code>
PurchaseCap</code> to build a custom
logic around the purchase flow. However, it should be carefully managed to
prevent asset locking.
- <code>
<Link to="kiosk_extension#0x2_kiosk_extension">kiosk_extension</Link></code> is a friend module to <code>
<Link to="kiosk#0x2_kiosk">kiosk</Link></code> and has access to its
internal functions (such as <code>
place_internal</code> and <code>
lock_internal</code> to
implement custom authorization scheme for <code>
place</code> and <code>
lock</code> respectively).


        -  [Flow:](#@Flow:_0)
        -  [Examples:](#@Examples:_1)
        -  [Notes:](#@Notes:_2)
-  [Struct `Extension`](#0x2_kiosk_extension_Extension)
-  [Struct `ExtensionKey`](#0x2_kiosk_extension_ExtensionKey)
-  [Constants](#@Constants_3)
-  [Function `add`](#0x2_kiosk_extension_add)
-  [Function `disable`](#0x2_kiosk_extension_disable)
-  [Function `enable`](#0x2_kiosk_extension_enable)
-  [Function `remove`](#0x2_kiosk_extension_remove)
-  [Function `storage`](#0x2_kiosk_extension_storage)
-  [Function `storage_mut`](#0x2_kiosk_extension_storage_mut)
-  [Function `place`](#0x2_kiosk_extension_place)
-  [Function `lock`](#0x2_kiosk_extension_lock)
-  [Function `is_installed`](#0x2_kiosk_extension_is_installed)
-  [Function `is_enabled`](#0x2_kiosk_extension_is_enabled)
-  [Function `can_place`](#0x2_kiosk_extension_can_place)
-  [Function `can_lock`](#0x2_kiosk_extension_can_lock)
-  [Function `extension`](#0x2_kiosk_extension_extension)
-  [Function `extension_mut`](#0x2_kiosk_extension_extension_mut)


<pre><code>
<b>use</b> <Link to="bag#0x2_bag">0x2::bag</Link>;
<b>use</b> <Link to="dynamic_field#0x2_dynamic_field">0x2::dynamic_field</Link>;
<b>use</b> <Link to="kiosk#0x2_kiosk">0x2::kiosk</Link>;
<b>use</b> <Link to="object#0x2_object">0x2::object</Link>;
<b>use</b> <Link to="transfer_policy#0x2_transfer_policy">0x2::transfer_policy</Link>;
<b>use</b> <Link to="tx_context#0x2_tx_context">0x2::tx_context</Link>;
</code></pre>



<Link id="0x2_kiosk_extension_Extension"></Link>

## Struct `Extension`

The Extension struct contains the data used by the extension and the
configuration for this extension. Stored under the <code>
<Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link></code>
dynamic field.


<pre><code>
<b>struct</b> <Link to="kiosk_extension#0x2_kiosk_extension_Extension">Extension</Link> <b>has</b> store
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
storage: <Link to="bag#0x2_bag_Bag">bag::Bag</Link></code>
</dt>
<dd>
 Storage for the extension, an isolated Bag. By putting the extension
 into a single dynamic field, we reduce the amount of fields on the
 top level (eg items / listings) while giving extension developers
 the ability to store any data they want.
</dd>
<dt>
<code>
permissions: u128</code>
</dt>
<dd>
 Bitmap of permissions that the extension has (can be revoked any
 moment). It's all or nothing policy - either the extension has the
 required permissions or no permissions at all.

 1st bit - <code>
place</code> - allows to place items for sale
 2nd bit - <code>
lock</code> and <code>
place</code> - allows to lock items (and place)

 For example:
 - <code>
10</code> - allows to place items and lock them.
 - <code>
11</code> - allows to place items and lock them (<code>
lock</code> includes <code>
place</code>).
 - <code>
01</code> - allows to place items, but not lock them.
 - <code>
00</code> - no permissions.
</dd>
<dt>
<code>
is_enabled: bool</code>
</dt>
<dd>
 Whether the extension can call protected actions. By default, all
 extensions are enabled (on <code>
add</code> call), however the Kiosk
 owner can disable them at any time.

 Disabling the extension does not limit its access to the storage.
</dd>
</dl>


</details>

<Link id="0x2_kiosk_extension_ExtensionKey"></Link>

## Struct `ExtensionKey`

The <code>
<Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link></code> is a typed dynamic field key used to store the
extension configuration and data. <code>
Ext</code> is a phantom type that is used
to identify the extension witness.


<pre><code>
<b>struct</b> <Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link>&lt;Ext&gt; <b>has</b> <b>copy</b>, drop, store
</code></pre>



<details>
<summary>Fields</summary>


<dl>
<dt>
<code>
dummy_field: bool</code>
</dt>
<dd>

</dd>
</dl>


</details>

<Link id="@Constants_3"></Link>

## Constants


<Link id="0x2_kiosk_extension_ENotOwner"></Link>

Trying to add an extension while not being the owner of the Kiosk.


<pre><code>
<b>const</b> <Link to="kiosk_extension#0x2_kiosk_extension_ENotOwner">ENotOwner</Link>: u64 = 0;
</code></pre>



<Link id="0x2_kiosk_extension_EExtensionNotAllowed"></Link>

Extension is trying to access a permissioned action while not having
the required permission.


<pre><code>
<b>const</b> <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotAllowed">EExtensionNotAllowed</Link>: u64 = 2;
</code></pre>



<Link id="0x2_kiosk_extension_EExtensionNotInstalled"></Link>

Extension is not installed in the Kiosk.


<pre><code>
<b>const</b> <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>: u64 = 3;
</code></pre>



<Link id="0x2_kiosk_extension_LOCK"></Link>

Value that represents the <code>
lock</code> and <code>
place</code> permission in the
permissions bitmap.


<pre><code>
<b>const</b> <Link to="kiosk_extension#0x2_kiosk_extension_LOCK">LOCK</Link>: u128 = 2;
</code></pre>



<Link id="0x2_kiosk_extension_PLACE"></Link>

Value that represents the <code>
place</code> permission in the permissions bitmap.


<pre><code>
<b>const</b> <Link to="kiosk_extension#0x2_kiosk_extension_PLACE">PLACE</Link>: u128 = 1;
</code></pre>



<Link id="0x2_kiosk_extension_add"></Link>

## Function `add`

Add an extension to the Kiosk. Can only be performed by the owner. The
extension witness is required to allow extensions define their set of
permissions in the custom <code>
add</code> call.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_add">add</Link>&lt;Ext: drop&gt;(_ext: Ext, self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>, cap: &<Link to="kiosk#0x2_kiosk_KioskOwnerCap">kiosk::KioskOwnerCap</Link>, permissions: u128, ctx: &<b>mut</b> <Link to="tx_context#0x2_tx_context_TxContext">tx_context::TxContext</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_add">add</Link>&lt;Ext: drop&gt;(
    _ext: Ext,
    self: &<b>mut</b> Kiosk,
    cap: &KioskOwnerCap,
    permissions: u128,
    ctx: &<b>mut</b> TxContext
) \{
    <b>assert</b>!(self.has_access(cap), <Link to="kiosk_extension#0x2_kiosk_extension_ENotOwner">ENotOwner</Link>);
    df::add(
        self.uid_mut_as_owner(cap),
        <Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link>&lt;Ext&gt; \{},
        <Link to="kiosk_extension#0x2_kiosk_extension_Extension">Extension</Link> \{
            storage: <Link to="bag#0x2_bag_new">bag::new</Link>(ctx),
            permissions,
            is_enabled: <b>true</b>,
        }
    )
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_disable"></Link>

## Function `disable`

Revoke permissions from the extension. While it does not remove the
extension completely, it keeps it from performing any protected actions.
The storage is still available to the extension (until it's removed).


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_disable">disable</Link>&lt;Ext: drop&gt;(self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>, cap: &<Link to="kiosk#0x2_kiosk_KioskOwnerCap">kiosk::KioskOwnerCap</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_disable">disable</Link>&lt;Ext: drop&gt;(
    self: &<b>mut</b> Kiosk,
    cap: &KioskOwnerCap,
) \{
    <b>assert</b>!(self.has_access(cap), <Link to="kiosk_extension#0x2_kiosk_extension_ENotOwner">ENotOwner</Link>);
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);
    <Link to="kiosk_extension#0x2_kiosk_extension_extension_mut">extension_mut</Link>&lt;Ext&gt;(self).is_enabled = <b>false</b>;
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_enable"></Link>

## Function `enable`

Re-enable the extension allowing it to call protected actions (eg
<code>
place</code>, <code>
lock</code>). By default, all added extensions are enabled. Kiosk
owner can disable them via <code>
disable</code> call.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_enable">enable</Link>&lt;Ext: drop&gt;(self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>, cap: &<Link to="kiosk#0x2_kiosk_KioskOwnerCap">kiosk::KioskOwnerCap</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_enable">enable</Link>&lt;Ext: drop&gt;(
    self: &<b>mut</b> Kiosk,
    cap: &KioskOwnerCap,
) \{
    <b>assert</b>!(self.has_access(cap), <Link to="kiosk_extension#0x2_kiosk_extension_ENotOwner">ENotOwner</Link>);
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);
    <Link to="kiosk_extension#0x2_kiosk_extension_extension_mut">extension_mut</Link>&lt;Ext&gt;(self).is_enabled = <b>true</b>;
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_remove"></Link>

## Function `remove`

Remove an extension from the Kiosk. Can only be performed by the owner,
the extension storage must be empty for the transaction to succeed.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_remove">remove</Link>&lt;Ext: drop&gt;(self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>, cap: &<Link to="kiosk#0x2_kiosk_KioskOwnerCap">kiosk::KioskOwnerCap</Link>)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_remove">remove</Link>&lt;Ext: drop&gt;(
    self: &<b>mut</b> Kiosk, cap: &KioskOwnerCap
) \{
    <b>assert</b>!(self.has_access(cap), <Link to="kiosk_extension#0x2_kiosk_extension_ENotOwner">ENotOwner</Link>);
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);

    <b>let</b> <Link to="kiosk_extension#0x2_kiosk_extension_Extension">Extension</Link> \{
        storage,
        permissions: _,
        is_enabled: _,
    } = df::remove(self.uid_mut_as_owner(cap), <Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link>&lt;Ext&gt; \{});

    storage.destroy_empty();
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_storage"></Link>

## Function `storage`

Get immutable access to the extension storage. Can only be performed by
the extension as long as the extension is installed.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_storage">storage</Link>&lt;Ext: drop&gt;(_ext: Ext, self: &<Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): &<Link to="bag#0x2_bag_Bag">bag::Bag</Link>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_storage">storage</Link>&lt;Ext: drop&gt;(
    _ext: Ext, self: &Kiosk
): &Bag \{
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);
    &<Link to="kiosk_extension#0x2_kiosk_extension_extension">extension</Link>&lt;Ext&gt;(self).storage
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_storage_mut"></Link>

## Function `storage_mut`

Get mutable access to the extension storage. Can only be performed by
the extension as long as the extension is installed. Disabling the
extension does not prevent it from accessing the storage.

Potentially dangerous: extension developer can keep data in a Bag
therefore never really allowing the KioskOwner to remove the extension.
However, it is the case with any other solution (1) and this way we
prevent intentional extension freeze when the owner wants to ruin a
trade (2) - eg locking extension while an auction is in progress.

Extensions should be crafted carefully, and the KioskOwner should be
aware of the risks.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_storage_mut">storage_mut</Link>&lt;Ext: drop&gt;(_ext: Ext, self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): &<b>mut</b> <Link to="bag#0x2_bag_Bag">bag::Bag</Link>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_storage_mut">storage_mut</Link>&lt;Ext: drop&gt;(
    _ext: Ext, self: &<b>mut</b> Kiosk
): &<b>mut</b> Bag \{
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);
    &<b>mut</b> <Link to="kiosk_extension#0x2_kiosk_extension_extension_mut">extension_mut</Link>&lt;Ext&gt;(self).storage
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_place"></Link>

## Function `place`

Protected action: place an item into the Kiosk. Can be performed by an
authorized extension. The extension must have the <code>
place</code> permission or
a <code>
lock</code> permission.

To prevent non-tradable items from being placed into <code>
Kiosk</code> the method
requires a <code>
TransferPolicy</code> for the placed type to exist.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_place">place</Link>&lt;Ext: drop, T: store, key&gt;(_ext: Ext, self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>, item: T, _policy: &<Link to="transfer_policy#0x2_transfer_policy_TransferPolicy">transfer_policy::TransferPolicy</Link>&lt;T&gt;)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_place">place</Link>&lt;Ext: drop, T: key + store&gt;(
    _ext: Ext, self: &<b>mut</b> Kiosk, item: T, _policy: &TransferPolicy&lt;T&gt;
) \{
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_can_place">can_place</Link>&lt;Ext&gt;(self) || <Link to="kiosk_extension#0x2_kiosk_extension_can_lock">can_lock</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotAllowed">EExtensionNotAllowed</Link>);

    self.place_internal(item)
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_lock"></Link>

## Function `lock`

Protected action: lock an item in the Kiosk. Can be performed by an
authorized extension. The extension must have the <code>
lock</code> permission.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_lock">lock</Link>&lt;Ext: drop, T: store, key&gt;(_ext: Ext, self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>, item: T, _policy: &<Link to="transfer_policy#0x2_transfer_policy_TransferPolicy">transfer_policy::TransferPolicy</Link>&lt;T&gt;)
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_lock">lock</Link>&lt;Ext: drop, T: key + store&gt;(
    _ext: Ext, self: &<b>mut</b> Kiosk, item: T, _policy: &TransferPolicy&lt;T&gt;
) \{
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotInstalled">EExtensionNotInstalled</Link>);
    <b>assert</b>!(<Link to="kiosk_extension#0x2_kiosk_extension_can_lock">can_lock</Link>&lt;Ext&gt;(self), <Link to="kiosk_extension#0x2_kiosk_extension_EExtensionNotAllowed">EExtensionNotAllowed</Link>);

    self.lock_internal(item)
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_is_installed"></Link>

## Function `is_installed`

Check whether an extension of type <code>
Ext</code> is installed.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext: drop&gt;(self: &<Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_is_installed">is_installed</Link>&lt;Ext: drop&gt;(self: &Kiosk): bool \{
    df::exists_(self.uid(), <Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link>&lt;Ext&gt; \{})
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_is_enabled"></Link>

## Function `is_enabled`

Check whether an extension of type <code>
Ext</code> is enabled.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_is_enabled">is_enabled</Link>&lt;Ext: drop&gt;(self: &<Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_is_enabled">is_enabled</Link>&lt;Ext: drop&gt;(self: &Kiosk): bool \{
    <Link to="kiosk_extension#0x2_kiosk_extension_extension">extension</Link>&lt;Ext&gt;(self).is_enabled
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_can_place"></Link>

## Function `can_place`

Check whether an extension of type <code>
Ext</code> can <code>
place</code> into Kiosk.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_can_place">can_place</Link>&lt;Ext: drop&gt;(self: &<Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_can_place">can_place</Link>&lt;Ext: drop&gt;(self: &Kiosk): bool \{
    <Link to="kiosk_extension#0x2_kiosk_extension_is_enabled">is_enabled</Link>&lt;Ext&gt;(self) && <Link to="kiosk_extension#0x2_kiosk_extension_extension">extension</Link>&lt;Ext&gt;(self).permissions & <Link to="kiosk_extension#0x2_kiosk_extension_PLACE">PLACE</Link> != 0
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_can_lock"></Link>

## Function `can_lock`

Check whether an extension of type <code>
Ext</code> can <code>
lock</code> items in Kiosk.
Locking also enables <code>
place</code>.


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_can_lock">can_lock</Link>&lt;Ext: drop&gt;(self: &<Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): bool
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>public</b> <b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_can_lock">can_lock</Link>&lt;Ext: drop&gt;(self: &Kiosk): bool \{
    <Link to="kiosk_extension#0x2_kiosk_extension_is_enabled">is_enabled</Link>&lt;Ext&gt;(self) && <Link to="kiosk_extension#0x2_kiosk_extension_extension">extension</Link>&lt;Ext&gt;(self).permissions & <Link to="kiosk_extension#0x2_kiosk_extension_LOCK">LOCK</Link> != 0
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_extension"></Link>

## Function `extension`

Internal: get a read-only access to the Extension.


<pre><code>
<b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_extension">extension</Link>&lt;Ext: drop&gt;(self: &<Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): &<Link to="kiosk_extension#0x2_kiosk_extension_Extension">kiosk_extension::Extension</Link>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_extension">extension</Link>&lt;Ext: drop&gt;(self: &Kiosk): &<Link to="kiosk_extension#0x2_kiosk_extension_Extension">Extension</Link> \{
    df::borrow(self.uid(), <Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link>&lt;Ext&gt; \{})
}
</code></pre>



</details>

<Link id="0x2_kiosk_extension_extension_mut"></Link>

## Function `extension_mut`

Internal: get a mutable access to the Extension.


<pre><code>
<b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_extension_mut">extension_mut</Link>&lt;Ext: drop&gt;(self: &<b>mut</b> <Link to="kiosk#0x2_kiosk_Kiosk">kiosk::Kiosk</Link>): &<b>mut</b> <Link to="kiosk_extension#0x2_kiosk_extension_Extension">kiosk_extension::Extension</Link>
</code></pre>



<details>
<summary>Implementation</summary>


<pre><code>
<b>fun</b> <Link to="kiosk_extension#0x2_kiosk_extension_extension_mut">extension_mut</Link>&lt;Ext: drop&gt;(self: &<b>mut</b> Kiosk): &<b>mut</b> <Link to="kiosk_extension#0x2_kiosk_extension_Extension">Extension</Link> \{
    df::borrow_mut(self.uid_mut_internal(), <Link to="kiosk_extension#0x2_kiosk_extension_ExtensionKey">ExtensionKey</Link>&lt;Ext&gt; \{})
}
</code></pre>



</details>
